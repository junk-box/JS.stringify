[JS.stringify](http://junk-box.appspot.com/bookmarklet/JS.stringify/index.html)
=====================================================================

これは？
--------

javascriptオブジェクトをJSON文字列に変換するブックマークレットです。  
javascript開発時にオブジェクトの中身を表示したい場合に便利です。

インストール
------------

次のコードをブックマークとして登録します。
```js
javascript:(function(){var f=function(){return%22frameset%22!=document.body.localName?document.body:function(a){return%22frame%22==a.localName?a.contentDocument:arguments.callee(a.children[a.cols.split(%22,%22).length-1])}(document.body).body}(),c=function(a){for(var b=%22%22,e=0;e<a.length;e++)b+=a[e]+%22 !important;%22;return b},d,l=function(a){for(var b=%22%22,e=0;e<4*a;e++)b+=String.fromCharCode(160);return b},m,n=function(a){return a.replace(/\\/g,%22\\\\%22).replace(/\%22/g,'\\%22').replace(/</g,%22%26lt;%22).replace(/>/g,%22%26gt;%22)},t=function(a,b,e,d){m++;var c=typeof a;if(%22object%22!=c&&%22function%22!=c)return%22string%22==c?'%22'+n(a)+'%22':a;if(b==e)return%22{...}%22;var k,g,c=[],f=a&&a.constructor==Array,h;for(h in a)if(g=a[h],k=typeof g,Object.prototype.hasOwnProperty.call(a,h)){if(%22function%22==k){if(d)continue;k=String(g);g=k.substring(0,k.indexOf(%22)%22)+1)+%22 {...}%22}else g=%22string%22==k?'%22'+n(g)+'%22':%22object%22==k&&null!=g?arguments.callee(g,b,e+1,d):String(g);c.push((f?%22%22:'%22'+n(h)+'%22: ')+g);if(1E3<m)throw Error(%22too big object.%22);}return(f?%22[%22:%22{%22)+%22</span></div><div><span>%22+l(e+1)+c.join(%22,</span></div><div><span>%22+l(e+1))+%22</span></div><div><span>%22+l(e)+(f?%22]%22:%22}%22)},u=function(){try{m=0;var a=function(){var a=h.value.split(%22.%22);return void 0==window[a[0]]?eval(h.value):function(b,c){return a.length==c?b:arguments.callee(b[a[c]],c+1)}(window[a[0]],1)}();return%22<div><span>%22+t(a,isNaN(p.innerHTML)?1E3:Number(p.innerHTML),0,%22rgb(82, 82, 82)%22==q.style.color)+%22</span></div>%22}catch(b){return b.message}},r=function(){d&&f.removeChild(d);var a=document.createElement(%22a%22);a.style.cssText=c([%22color: #609%22,%22background-color: #fffbf0%22,%22font: normal 12px/1 sans-serif%22,%22border-width: 0px%22,%22cursor: pointer%22]);a.innerHTML=%22select%22;a.onclick=function(){var a=document.createRange();a.selectNode(d.children[1]);var b=document.getSelection();b.removeAllRanges();b.addRange(a)};var b=document.createElement(%22a%22);b.innerHTML=%22close%22;b.style.cssText=c(%22margin-left: 8px;color: #609;background-color: #fffbf0;font: normal 12px/1 sans-serif;border-width: 0px;cursor: pointer%22.split(%22;%22));b.onclick=function(){f.removeChild(d);d=void 0};var e=document.createElement(%22div%22);e.style.cssText=c([%22margin-top: 5px%22,%22text-align: right%22]);e.appendChild(a);e.appendChild(b);a=document.createElement(%22div%22);a.innerHTML=u();a.style.cssText=c([%22margin-top: 10px%22]);d=document.createElement(%22div%22);d.style.cssText=c(%22position: fixed;top: 10%;left: 10%;max-width: 80%;max-height: 80%;z-index: 2147483647;text-align: left;border: solid 1px #666;background-color: #fffbf0;padding: 3px 8px 15px 15px%22.split(%22;%22));d.appendChild(e);d.appendChild(a);f.appendChild(d);b=function(a){return Number(a.substring(0,a.length-2))};a.style.cssText=c([%22margin-top: 10px%22,%22overflow: auto%22,%22max-width: %22+(Math.floor(0.8*window.innerWidth)-b(d.style.paddingLeft)-b(d.style.paddingRight))+%22px%22,%22max-height: %22+(Math.floor(0.8*window.innerHeight)-b(d.style.paddingTop)-e.clientHeight-b(d.style.paddingBottom)-20)+%22px%22,%22padding-right: 40px%22,%22padding-bottom: 5px%22,%22color: #000%22,%22background-color: #fffbf0%22,%22text-align: left%22,%22font: normal 12px/1 monospace%22,%22white-space: nowrap%22])},h=function(){var a=document.createElement(%22input%22);a.type=%22text%22;a.spellcheck=!1;a.style.cssText=c(%22display: inline;outline: none;box-shadow: 0px 0px;border: solid 1px #aaaaab;border-top-color: #969696;border-top-left-radius: 3px;border-bottom-left-radius: 3px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-width: 0px;line-height: 1;width: 218px;height: 100%;min-height: 100%;max-height: 100%;margin: 0px;vertical-align: baseline;padding: 4px 6px 3px;background-color: #ffffff;color: #000;font: 12px/1 Arial%22.split(%22;%22));a.onkeyup=function(a){13==(a||event).keyCode&&r()};return a}(),v=function(){var a=document.createElement(%22div%22);a.title=%22watch%22;a.innerHTML=%22=%22;a.style.cssText=c(%22position: relative;top: 2px;font: bold 19px/1.0 Comic Sans MS;border: 1px solid #aaaaab;border-right-width: 0px;border-top-color: #969696;border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;padding: 1px 6px 2px 6px;text-decoration: none;background-color: #eeeeef;color: rgb(82, 82, 82);text-shadow: rgb(255, 255, 255) 1px 1px 0px;outline: none;cursor: pointer;display: inline-block%22.split(%22;%22));a.onclick=function(){r()};return a}(),p=function(){var a=document.createElement(%22div%22);a.title=%22depth%22;a.innerHTML=%22&infin;%22;a.style.cssText=c(%22position: relative;top: 2px;font: bold 18px/1.0 Comic Sans MS;border: 1px solid #aaaaab;border-right-width: 0px;border-top-color: #969696;border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;padding: 3px 5px 1px 5px;text-decoration: none;background-color: #eeeeef;color: rgb(82, 82, 82);text-shadow: rgb(255, 255, 255) 1px 1px 0px;outline: none;cursor: pointer;display: inline-block%22.split(%22;%22));a.onclick=function(){%221%22==this.innerHTML?this.innerHTML=%223%22:%223%22==this.innerHTML?this.innerHTML=%225%22:%225%22==this.innerHTML?(this.innerHTML=%22&infin;%22,this.style.cssText=c(%22position: relative;top: 2px;font: bold 18px/1.0 Comic Sans MS;border: 1px solid #aaaaab;border-right-width: 0px;border-top-color: #969696;border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;padding: 3px 5px 1px 5px;text-decoration: none;background-color: #eeeeef;color: rgb(82, 82, 82);text-shadow: rgb(255, 255, 255) 1px 1px 0px;outline: none;cursor: pointer;display: inline-block%22.split(%22;%22))):(this.innerHTML=%221%22,this.style.cssText=c(%22position: relative;top: 1px;font: bold 14px/1.0 Comic Sans MS;border: 1px solid #aaaaab;border-right-width: 0px;border-top-color: #969696;border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;padding: 5px 8px 3px 8px;text-decoration: none;background-color: #eeeeef;color: rgb(82, 82, 82);text-shadow: rgb(255, 255, 255) 1px 1px 0px;outline: none;cursor: pointer;display: inline-block%22.split(%22;%22)))};return a}(),q=function(){var a=document.createElement(%22div%22);a.title=%22include function%22;a.innerHTML=%22fn%22;a.style.cssText=c(%22position: relative;top: 1px;font: bold 15px/1.0 Arial;border: 1px solid #aaaaab;border-right-width: 0px;border-top-color: #969696;border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;padding: 5px 5px 2px 6px;text-decoration: none;background-color: #eeeeef;color: rgb(82, 82, 82);text-shadow: rgb(255, 255, 255) 1px 1px 0px;outline: none;cursor: pointer;display: inline-block%22.split(%22;%22));a.onclick=function(){var a=%22rgb(82, 82, 82)%22==this.style.color;this.title=a?%22exclude function%22:%22include function%22;this.style.cssText=c([%22position: relative%22,%22top: 1px%22,%22font: bold 15px/1.0 Arial%22,%22border: 1px solid #aaaaab%22,%22border-right-width: 0px%22,%22border-top-color: #969696%22,%22border-top-left-radius: 0px%22,%22border-bottom-left-radius: 0px%22,%22border-top-right-radius: 0px%22,%22border-bottom-right-radius: 0px%22,%22padding: 5px 5px 2px 6px%22,%22text-decoration: none%22,%22background-color: #eeeeef%22,%22color: %22+(a?%22rgb(66, 129, 235)%22:%22rgb(82, 82, 82)%22),%22text-shadow: %22+(a?%22rgb(129, 169, 237) 0px 0px 1px%22:%22rgb(255, 255, 255) 1px 1px 0px%22),%22outline: none%22,%22cursor: pointer%22,%22display: inline-block%22])};return a}(),w=function(){var a=document.createElement(%22div%22);a.title=%22close%22;a.innerHTML=%22&times;%22;a.style.cssText=c(%22position: relative;top: 2px;font: bold 17px/1.0 Impact;border: 1px solid #aaaaab;border-top-color: #969696;border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-top-right-radius: 3px;border-bottom-right-radius: 3px;padding: 3px 8px 2px 7px;text-decoration: none;background-color: #eeeeef;color: #525252;display: inline-block;text-shadow: 1px 1px 0px #ffffff;outline: none;cursor: pointer%22.split(%22;%22));a.onclick=function(){d&&f.removeChild(d);f.removeChild(s)};return a}(),s=function(){var a=document.createElement(%22div%22);a.style.cssText=c(%22position: fixed;top: 0px;right: 3px;z-index: 2147483647;padding: 3px;padding-top: 1px;white-space: nowrap;background-color: #dfdfdf;border: solid 1px #aaaaab;border-top-width: 0px;border-top-left-radius: 0px;border-top-right-radius: 0px;border-bottom-left-radius: 4px;border-bottom-right-radius: 4px%22.split(%22;%22));a.appendChild(h);a.appendChild(v);a.appendChild(p);a.appendChild(q);a.appendChild(w);return a}();f.appendChild(s);h.focus()})();
```

IE用 ※オフライン環境では動作しません。
```js
javascript:(function(){var a=document.createElement('script');a.setAttribute('language','javascript');a.setAttribute('charset','UTF-8');a.setAttribute('src','https://junk-box.appspot.com/bookmarklet/JS.stringify/JS.stringify.min.js');document.body.appendChild(a)})();
```

使用方法
--------

ブックマークレットを起動すると右上にオブジェクト入力エリアが表示されます。  
オブジェクトを入力し、Enterキーを押下すると文字列化したオブジェクトが表示されます。

ライセンス
----------

JS.stringifyは[MIT License](https://github.com/junk-box/JS.stringify/blob/master/MIT-LICENSE)で公開しています。
